---
DATE: 2025-10-07
AUTHOR: Claude Code AI Assistant
PROJECT: The HOLE Foundation - US Transparency Laws Database
SUBPROJECT: v0.12 Rights of Access Feature Design
VERSION: v0.12
---

# v0.12 Feature: Rights of Access Table

## Overview

Version 0.12 introduces a dedicated `rights_of_access` table to document **affirmative rights** to public records in each jurisdiction. This mirrors the `exemptions` table structure but focuses on what requesters **CAN** access rather than what they cannot.

## Rationale

### Problem Statement
Currently, the database documents **exemptions** (what cannot be accessed) but lacks structured documentation of **affirmative rights** (what CAN be accessed). This creates an incomplete picture for:

1. **FOIA Request Writers**: Cannot effectively assert specific statutory rights in requests
2. **Requester Education**: Users see barriers but not opportunities
3. **Comparative Analysis**: Cannot compare access rights across jurisdictions
4. **AI-Powered Request Generation**: FOIA Generator lacks positive assertions to include in requests

### Solution
A `rights_of_access` table that catalogs:
- Statutory rights to specific record types
- Affirmative access provisions
- Proactive disclosure requirements
- Enhanced access for specific requesters (journalists, researchers, etc.)
- Technology-specific access rights (electronic formats, APIs, etc.)

## Table Schema Design

### Table: `rights_of_access`

Mirrors the `exemptions` table structure for consistency:

```sql
CREATE TABLE rights_of_access (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    transparency_law_id UUID NOT NULL REFERENCES transparency_laws(id) ON DELETE CASCADE,

    -- Jurisdiction denormalization (for efficient queries)
    jurisdiction_slug TEXT NOT NULL,
    jurisdiction_name TEXT NOT NULL,

    -- Right classification
    category TEXT NOT NULL,              -- e.g., 'Proactive Disclosure', 'Enhanced Access', 'Technology Rights'
    subcategory TEXT,                    -- e.g., 'Meeting Records', 'Budget Documents', 'API Access'

    -- Legal foundation
    statute_citation TEXT,               -- Specific statutory citation
    description TEXT NOT NULL,           -- Clear description of the right

    -- Conditions and scope
    conditions TEXT,                     -- Conditions for exercising this right
    applies_to TEXT,                     -- Who can exercise this right (if limited)

    -- Implementation details
    implementation_notes TEXT,           -- How agencies implement this right
    request_tips TEXT,                   -- Tips for asserting this right in requests

    -- Metadata
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);

-- Indexes
CREATE INDEX idx_rights_of_access_law ON rights_of_access(transparency_law_id);
CREATE INDEX idx_rights_of_access_jurisdiction ON rights_of_access(jurisdiction_slug);
CREATE INDEX idx_rights_of_access_category ON rights_of_access(category);
CREATE INDEX idx_rights_of_access_subcategory ON rights_of_access(subcategory);

-- Full-text search
CREATE INDEX idx_rights_of_access_description ON rights_of_access USING GIN (to_tsvector('english', description));

-- RLS Policies (read-only public access)
ALTER TABLE rights_of_access ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Rights of access are viewable by everyone"
    ON rights_of_access FOR SELECT
    USING (true);

-- Trigger for updated_at
CREATE TRIGGER update_rights_of_access_updated_at
    BEFORE UPDATE ON rights_of_access
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at_column();

-- Comments
COMMENT ON TABLE rights_of_access IS 'Affirmative rights of access to public records by jurisdiction';
COMMENT ON COLUMN rights_of_access.category IS 'Primary classification: Proactive Disclosure, Enhanced Access, Technology Rights, etc.';
COMMENT ON COLUMN rights_of_access.description IS 'Clear description of what can be accessed under this right';
COMMENT ON COLUMN rights_of_access.conditions IS 'Conditions or requirements for exercising this right';
COMMENT ON COLUMN rights_of_access.request_tips IS 'Tips for asserting this right in FOIA requests';
```

## Category Taxonomy

### Primary Categories

1. **Proactive Disclosure**
   - Records agencies must publish without request
   - Public meeting agendas/minutes
   - Budget documents
   - Contracts and spending
   - Employee salary databases

2. **Enhanced Access Rights**
   - Expedited processing for specific requesters
   - Fee waivers for journalists/researchers
   - Special access provisions
   - Confidential source protections

3. **Technology Rights**
   - Electronic format requirements
   - API access provisions
   - Machine-readable data rights
   - Open data portal access

4. **Requester-Specific Rights**
   - Journalist privileges
   - Academic researcher access
   - Nonprofit organization rights
   - Citizen oversight provisions

5. **Inspection Rights**
   - On-site record inspection
   - Copy-on-demand provisions
   - Photography/scanning rights
   - Access to equipment/facilities

6. **Timeliness Rights**
   - Statutory response deadlines
   - Interim response requirements
   - Deemed-granted provisions
   - Emergency access procedures

## Data Collection Strategy

### Phase 1: High-Priority States (Weeks 1-4)
Focus on 10 jurisdictions with robust access provisions:
1. Federal (FOIA)
2. California
3. Washington
4. New York
5. Texas
6. Florida
7. Illinois
8. Massachusetts
9. Oregon
10. Connecticut

### Phase 2: All Remaining States (Weeks 5-12)
Complete remaining 42 jurisdictions

### Phase 3: Enhancement (Weeks 13-16)
- Add request_tips for all rights
- Cross-reference with exemptions
- Create comparative analysis views

## Data Sources (Official Only)

Following existing validation methodology:

### Acceptable Sources:
1. **State Statutes** (official .gov legislature sites)
2. **Official AG Opinions** on access rights
3. **State Attorney General FOIA Handbooks**
4. **Official State Records Office Guides**
5. **Court Decisions** (official state judiciary sites)

### Prohibited Sources:
- AI summaries (Perplexity, ChatGPT, etc.)
- Third-party legal commentary
- News articles or blog posts
- Unofficial guides

## Integration with Existing Data

### Relationship to Exemptions
Rights and exemptions work together:
- **Exemptions**: What cannot be accessed
- **Rights of Access**: What CAN be accessed
- Together they define the complete legal landscape

### FOIA Generator Enhancement
The FOIA Generator can now:
1. **Assert Specific Rights**: "Under [statute citation], I have the right to..."
2. **Cite Affirmative Provisions**: Reference specific access rights
3. **Leverage Technology Rights**: Request machine-readable formats when applicable
4. **Claim Enhanced Access**: Identify journalist/researcher status when relevant

### Example Request Enhancement

**Before (v0.11):**
> "I request copies of all contracts over $10,000 signed in 2024."

**After (v0.12):**
> "Under Cal. Gov. Code § 7927.700, which requires proactive disclosure of contracts exceeding $10,000, I request copies of all such contracts signed in 2024. Additionally, pursuant to § 7927.315, I request these records in an electronic format suitable for analysis."

## Database Views

### View: `transparency_landscape`
Combines rights and exemptions for complete picture:

```sql
CREATE VIEW transparency_landscape AS
SELECT
    j.slug,
    j.name AS jurisdiction_name,
    COUNT(DISTINCT ra.id) AS total_rights,
    COUNT(DISTINCT e.id) AS total_exemptions,
    COUNT(DISTINCT ra.id) FILTER (WHERE ra.category = 'Proactive Disclosure') AS proactive_disclosure_rights,
    COUNT(DISTINCT ra.id) FILTER (WHERE ra.category = 'Technology Rights') AS technology_rights,
    COUNT(DISTINCT e.id) FILTER (WHERE e.category = 'Law Enforcement') AS law_enforcement_exemptions
FROM jurisdictions j
LEFT JOIN transparency_laws tl ON tl.jurisdiction_id = j.id
LEFT JOIN rights_of_access ra ON ra.transparency_law_id = tl.id
LEFT JOIN exemptions e ON e.transparency_law_id = tl.id
GROUP BY j.slug, j.name
ORDER BY total_rights DESC;
```

## Migration File

File: `supabase/migrations/20251008000000_add_rights_of_access.sql`

```sql
-- ============================================================================
-- v0.12 Migration: Add Rights of Access Table
-- ============================================================================
-- Project: The HOLE Foundation - US Transparency Laws Database
-- Version: v0.12
-- Date: 2025-10-08
-- Description: Creates rights_of_access table to document affirmative access rights
-- ============================================================================

CREATE TABLE rights_of_access (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    transparency_law_id UUID NOT NULL REFERENCES transparency_laws(id) ON DELETE CASCADE,

    jurisdiction_slug TEXT NOT NULL,
    jurisdiction_name TEXT NOT NULL,

    category TEXT NOT NULL,
    subcategory TEXT,

    statute_citation TEXT,
    description TEXT NOT NULL,

    conditions TEXT,
    applies_to TEXT,

    implementation_notes TEXT,
    request_tips TEXT,

    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);

-- Indexes
CREATE INDEX idx_rights_of_access_law ON rights_of_access(transparency_law_id);
CREATE INDEX idx_rights_of_access_jurisdiction ON rights_of_access(jurisdiction_slug);
CREATE INDEX idx_rights_of_access_category ON rights_of_access(category);
CREATE INDEX idx_rights_of_access_subcategory ON rights_of_access(subcategory);
CREATE INDEX idx_rights_of_access_description ON rights_of_access USING GIN (to_tsvector('english', description));

-- RLS Policies
ALTER TABLE rights_of_access ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Rights of access are viewable by everyone"
    ON rights_of_access FOR SELECT
    USING (true);

-- Trigger
CREATE TRIGGER update_rights_of_access_updated_at
    BEFORE UPDATE ON rights_of_access
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at_column();

-- Comments
COMMENT ON TABLE rights_of_access IS 'v0.12: Affirmative rights of access to public records by jurisdiction';
COMMENT ON COLUMN rights_of_access.category IS 'Primary classification: Proactive Disclosure, Enhanced Access, Technology Rights, etc.';
COMMENT ON COLUMN rights_of_access.request_tips IS 'Tips for asserting this right in FOIA requests';

-- Create combined view
CREATE VIEW transparency_landscape AS
SELECT
    j.slug,
    j.name AS jurisdiction_name,
    j.jurisdiction_type,
    COUNT(DISTINCT ra.id) AS total_rights,
    COUNT(DISTINCT e.id) AS total_exemptions,
    COUNT(DISTINCT ra.id) FILTER (WHERE ra.category = 'Proactive Disclosure') AS proactive_disclosure_rights,
    COUNT(DISTINCT ra.id) FILTER (WHERE ra.category = 'Technology Rights') AS technology_rights,
    COUNT(DISTINCT ra.id) FILTER (WHERE ra.category = 'Enhanced Access Rights') AS enhanced_access_rights,
    COUNT(DISTINCT e.id) FILTER (WHERE e.category = 'Law Enforcement') AS law_enforcement_exemptions
FROM jurisdictions j
LEFT JOIN transparency_laws tl ON tl.jurisdiction_id = j.id
LEFT JOIN rights_of_access ra ON ra.transparency_law_id = tl.id
LEFT JOIN exemptions e ON e.transparency_law_id = tl.id
GROUP BY j.slug, j.name, j.jurisdiction_type
ORDER BY total_rights DESC;

COMMENT ON VIEW transparency_landscape IS 'v0.12: Combined view of rights and exemptions across all jurisdictions';
```

## Template Structure

### File: `templates/json/rights-of-access_template-v0.12.json`

```json
{
  "jurisdiction": {
    "slug": "example-state",
    "name": "Example State"
  },
  "rights_of_access": [
    {
      "category": "Proactive Disclosure",
      "subcategory": "Meeting Records",
      "statute_citation": "State Code § X.XX",
      "description": "All state and local government meetings must publish agendas at least 72 hours in advance and minutes within 10 business days",
      "conditions": "Applies to all meetings subject to open meetings law",
      "applies_to": "General public",
      "implementation_notes": "Most agencies post to centralized portal at meetings.state.gov",
      "request_tips": "Cite this provision to request meeting materials proactively disclosed online"
    },
    {
      "category": "Technology Rights",
      "subcategory": "Electronic Formats",
      "statute_citation": "State Code § Y.YY",
      "description": "Right to receive records in electronic format when maintained electronically",
      "conditions": "Must be the format in which agency maintains the records",
      "applies_to": "All requesters",
      "implementation_notes": "Agency cannot charge more for electronic delivery than paper",
      "request_tips": "Specify 'in the electronic format maintained by the agency' in your request"
    },
    {
      "category": "Enhanced Access Rights",
      "subcategory": "Journalist Expedited Processing",
      "statute_citation": "State Code § Z.ZZ",
      "description": "Journalists working on deadline can request expedited processing with 5-day response",
      "conditions": "Must provide evidence of journalist credentials and pending publication deadline",
      "applies_to": "Working journalists with professional credentials",
      "implementation_notes": "Submit expedited request form available on agency websites",
      "request_tips": "Include press credentials and publication information with expedited request"
    }
  ],
  "validation_metadata": {
    "parsed_date": "2025-10-08",
    "source_url": "https://legislature.state.gov/statutes",
    "source_verified": true,
    "primary_sources": [
      "State Statutes Website",
      "Attorney General FOIA Handbook"
    ],
    "verification_notes": "All rights verified against current statutes as of October 2025"
  }
}
```

## Impact on FOIA Generator

### Enhanced Request Templates

The FOIA Generator can now generate requests like:

```
Subject: Public Records Request - [Topic]

Dear Records Officer,

I am writing to request access to [records] under the [State] Public Records Act.

STATUTORY RIGHTS ASSERTED:

1. Proactive Disclosure Right (§ X.XX): These records are required to be proactively
   disclosed, so I request access to the publicly available materials.

2. Electronic Format Right (§ Y.YY): I request these records in electronic format
   as they are maintained electronically by your agency.

3. Expedited Processing (§ Z.ZZ): As a working journalist with [publication]
   covering [topic], I request expedited processing under the journalist
   provision with a 5-day response deadline.

REQUEST DETAILS:
[Specific records requested]

Thank you for your prompt attention to this matter.
```

## Timeline

- **Week 1 (Current)**: Design approval and migration creation
- **Week 2**: Federal FOIA rights documentation
- **Weeks 3-5**: High-priority states (CA, WA, NY, TX, FL)
- **Weeks 6-12**: Remaining 42 jurisdictions
- **Weeks 13-14**: FOIA Generator integration
- **Weeks 15-16**: Testing and refinement

## Success Metrics

1. **Coverage**: All 52 jurisdictions documented
2. **Depth**: Average 10+ rights per jurisdiction
3. **Utility**: 80% of FOIA Generator requests cite at least one affirmative right
4. **Quality**: 100% of rights verified from official sources
5. **User Impact**: Improved request approval rates (tracked via user feedback)

## Next Steps

1. ✅ Create this design document
2. ⏳ Create migration file
3. ⏳ Update CLAUDE.md with v0.12 guidance
4. ⏳ Update README.md with v0.12 status
5. ⏳ Create data collection workflow for research team
6. ⏳ Begin Federal FOIA rights documentation
7. ⏳ Integrate with FOIA Generator

---

**Document Status**: Draft for Review
**Last Updated**: 2025-10-07
**Next Review**: After stakeholder approval
