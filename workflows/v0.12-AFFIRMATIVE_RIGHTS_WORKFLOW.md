---
DATE: 2025-10-08
AUTHOR: Claude Code AI Assistant
PROJECT: The HOLE Foundation - US Transparency Laws Database
SUBPROJECT: v0.12 Affirmative Rights Extraction for FOIA Generator
VERSION: v0.12
WORKFLOW_TYPE: Simplified Rights Extraction
---

# v0.12 Affirmative Rights Extraction Workflow

## Executive Summary

**SIMPLIFIED APPROACH**: Extract affirmative rights directly from statutory text files we already have.

**PURPOSE**: Generate FOIA assertion language for FOIA Generator, not comprehensive rights database.

**INPUT**: 52 statutory text files in `consolidated-transparency-data/statutory-text-files/`

**OUTPUT**: Structured JSON with FOIA assertion templates

**TIME**: ~1 hour per jurisdiction (vs. 14-22 hours for comprehensive research)

## Key Insight: Task Separation

### What We Were Doing Wrong ❌
- Deep legal research across multiple sources
- Comprehensive rights database for Transparency Wiki
- AI-generated generic templates requiring full verification
- 14-22 hours per jurisdiction

### What We Should Be Doing ✅
- Parse statutory text we already have
- Extract affirmative disclosure statements
- Generate FOIA assertion templates
- 1 hour per jurisdiction for extraction + manual verification

## Two Distinct Tasks

### Task 1: Affirmative Rights for FOIA Generator (THIS WORKFLOW)
**Goal**: Extract sentences from statutes that can be cited in FOIA requests

**Example Output**:
```
"As per Tex. Gov't Code § 552.024(a), commendation records are explicitly
public information and cannot be exempted from disclosure. According to
Tex. Gov't Code § 552.301, you may not withhold entire documents because
some information is made confidential by law. You must redact only such
confidential information and provide the remaining portions in full."
```

**Data Needed**:
- Citation (§ 552.024(a))
- Record type (commendation records)
- Assertion language (affirmative statement)
- Redaction rule (cannot withhold entire document)
- Vaughn index language (request for redaction log)

### Task 2: Comprehensive Rights Database (FUTURE)
**Goal**: Complete rights database for Transparency Wiki and educational content

**Includes**:
- Case law interpretations
- AG opinions
- Practice guides
- Historical context
- Requester tips beyond assertions

**Timeline**: Deferred to v0.13 or later

## Affirmative Rights Extraction Process

### Step 1: Automated Pattern Matching

**Script**: `dev/scripts/extract-affirmative-rights.py`

**Patterns Searched**:
- "is public information"
- "are public information"
- "may not be withheld"
- "must be disclosed"
- "shall make available"
- "right to inspect"
- "free of charge"
- "shall not exceed"

**Output**: Unverified JSON with potential affirmative rights

**Example Command**:
```bash
python3 dev/scripts/extract-affirmative-rights.py
# Creates: data/v0.12/affirmative-rights/texas-affirmative-rights-UNVERIFIED.json
```

### Step 2: Manual Verification (REQUIRED)

For each extracted right:

1. **Read full statutory section** in original statute file
2. **Verify citation is correct** (section number matches)
3. **Confirm affirmative language** (is it really saying "X is public"?)
4. **Identify record type** (what specific records does this cover?)
5. **Enhance assertion template** (make it specific to this record type)
6. **Mark verified**: `source_verified: true`

### Step 3: FOIA Template Generation

Convert verified rights to FOIA Generator templates:

```json
{
  "right_id": "tx-commendation-001",
  "citation": "Tex. Gov't Code § 552.024(a)",
  "record_type": "commendation_records",
  "record_type_display": "Commendation Records",

  "affirmative_statement": "commendation records are explicitly public information and cannot be exempted from disclosure",

  "foia_assertion": "As per Tex. Gov't Code § 552.024(a), commendation records are explicitly public information and cannot be exempted from disclosure.",

  "redaction_rule": {
    "citation": "Tex. Gov't Code § 552.301",
    "assertion": "According to Tex. Gov't Code § 552.301, you may not withhold entire documents because some information is made confidential by law. You must redact only such confidential information and provide the remaining portions in full."
  },

  "vaughn_index": {
    "assertion": "Additionally, for completeness and to understand what was redacted and why, we request that you provide a Vaughn index for all information redacted."
  },

  "source_verified": true,
  "verification_notes": "Verified from TEXAS_transparency_law-v0.11.txt lines 150-160"
}
```

## Data Schema for FOIA Generator

### Minimal Required Fields

```json
{
  "jurisdiction_slug": "texas",
  "jurisdiction_name": "Texas",
  "statute_name": "Texas Public Information Act",

  "affirmative_rights": [
    {
      "right_id": "unique-identifier",
      "citation": "statutory citation",
      "record_type": "machine_readable_slug",
      "record_type_display": "Human Readable Name",
      "foia_assertion": "Ready-to-use sentence for FOIA request",
      "source_verified": true,
      "verification_notes": "How this was verified"
    }
  ],

  "redaction_rules": {
    "citation": "applicable statute citation",
    "foia_assertion": "Redaction rule assertion language"
  },

  "vaughn_index_language": {
    "standard": "Request for Vaughn index assertion"
  }
}
```

## Git Worktree Workflow

### Branch Strategy

```
main (production-verified data only)
└── verification/affirmative-rights (staging for all extractions)
    ├── verification/texas-affirmative
    ├── verification/california-affirmative
    ├── verification/illinois-affirmative
    └── verification/[jurisdiction]-affirmative
```

### Step 1: Create Staging Branch

```bash
# Create branch for all affirmative rights work
git checkout -b verification/affirmative-rights

# Commit initial extraction framework
git add dev/scripts/extract-affirmative-rights.py
git add workflows/v0.12-AFFIRMATIVE_RIGHTS_WORKFLOW.md
git commit -m "feat(v0.12): Add affirmative rights extraction workflow

Simplified approach for FOIA Generator assertion language.

- Extraction script for automated pattern matching
- Manual verification workflow
- Git worktree strategy for parallel work

Task separation:
- Task 1: Affirmative rights extraction (this workflow)
- Task 2: Comprehensive rights database (future v0.13)

Related: #v0.12 #foia-generator #ground-truth"

# Push to remote
git push origin verification/affirmative-rights

# Return to main
git checkout main
```

### Step 2: Create Worktrees for Each Jurisdiction

```bash
# Create worktrees directory
mkdir -p worktrees/affirmative

# Create worktree for Texas
git worktree add worktrees/affirmative/texas verification/texas-affirmative

# Work in Texas worktree
cd worktrees/affirmative/texas

# Extract rights
python3 ../../../dev/scripts/extract-affirmative-rights.py

# Manually verify each right
# ... verification work ...

# Commit verified rights
git add data/v0.12/affirmative-rights/texas-affirmative-rights.json
git commit -m "verify(texas): Complete affirmative rights verification

GROUND TRUTH VERIFIED ✅

37 affirmative rights extracted and verified:
- 28 affirmative disclosure provisions
- 5 fee protection provisions
- 4 redaction rules

All rights verified from TEXAS_transparency_law-v0.11.txt
Ready for FOIA Generator integration

Verification: 100% (37/37 rights confirmed from statute)"

# Return to main repo
cd ../../..

# Merge verified jurisdiction
git checkout verification/affirmative-rights
git merge --no-ff verification/texas-affirmative
```

### Step 3: Parallel Verification

**Multiple workers can verify simultaneously:**

```bash
# Worker 1: Texas
git worktree add worktrees/affirmative/texas verification/texas-affirmative

# Worker 2: California
git worktree add worktrees/affirmative/california verification/california-affirmative

# Worker 3: Illinois
git worktree add worktrees/affirmative/illinois verification/illinois-affirmative

# Each worker works independently in their worktree
# No conflicts because each modifies different jurisdiction files
```

### Step 4: Production Deployment

```bash
# After all priority jurisdictions verified...
git checkout main
git merge --no-ff verification/affirmative-rights -m "feat(v0.12): Deploy affirmative rights for FOIA Generator

PRODUCTION READY ✅

Verified affirmative rights for 8 priority jurisdictions:
- Federal: 15 rights
- Texas: 37 rights
- California: 45 rights
- Illinois: 28 rights
- New York: 32 rights
- Florida: 30 rights
- Massachusetts: 25 rights
- Oregon: 22 rights

Total: 234 verified affirmative rights ready for FOIA Generator

All rights extracted from official statutory text files and
individually verified against source statutes.

Integration: Ready for FOIA Generator assertion template engine"
```

## Verification Checklist

For each jurisdiction:

- [ ] Run extraction script: `python3 dev/scripts/extract-affirmative-rights.py`
- [ ] Review UNVERIFIED JSON output
- [ ] For each extracted right:
  - [ ] Read full statutory section in original statute file
  - [ ] Verify citation matches actual statute section number
  - [ ] Confirm affirmative language is accurate
  - [ ] Identify specific record types covered
  - [ ] Enhance assertion template with specifics
  - [ ] Add verification notes with line numbers
  - [ ] Set `source_verified: true`
- [ ] Remove false positives (patterns that aren't actually affirmative rights)
- [ ] Enhance with redaction rules and Vaughn index language
- [ ] Test assertion templates for readability
- [ ] Commit verified data to verification branch

## Priority Jurisdictions

**Phase 1** (Week 1):
1. Federal (5 U.S.C. § 552)
2. Texas (Tex. Gov't Code § 552)
3. California (Cal. Gov't Code §§ 7920-7931)
4. Illinois (5 ILCS 140)

**Phase 2** (Week 2):
5. New York (N.Y. Pub. Off. Law Article 6)
6. Florida (Fla. Stat. Chapter 119)
7. Massachusetts (MGL c. 66)
8. Oregon (ORS 192.311-192.478)

**Phase 3** (Weeks 3-8):
9-52. Remaining 44 jurisdictions

## Expected Results

### Extraction Efficiency
- **Automated extraction**: 5 minutes per jurisdiction
- **Manual verification**: 30-60 minutes per jurisdiction
- **Total time**: ~1 hour per jurisdiction

### Output Quality
- **Accuracy**: 100% (all verified against statute)
- **Usability**: Ready-to-use FOIA assertion sentences
- **Coverage**: Focus on most common record types

### FOIA Generator Integration

**Usage in FOIA Generator**:

1. User selects record type (e.g., "Commendation Records")
2. User selects jurisdiction (e.g., "Texas")
3. FOIA Generator retrieves verified assertion:
   ```
   "As per Tex. Gov't Code § 552.024(a), commendation records are
   explicitly public information and cannot be exempted from disclosure."
   ```
4. Generator adds redaction rule and Vaughn index language
5. Complete FOIA request draft generated with statutory citations

## Advantages Over Previous Approach

### Before (Comprehensive Rights Research)
- ❌ 14-22 hours per jurisdiction
- ❌ Required deep legal research
- ❌ Relied on secondary sources
- ❌ Generated generic templates
- ❌ Required extensive verification

### Now (Affirmative Rights Extraction)
- ✅ 1 hour per jurisdiction
- ✅ Works from statutory text we already have
- ✅ Primary source only (official statutes)
- ✅ Extracts exact statutory language
- ✅ Simple verification (just confirm citation matches)

## Quality Standards

### Ground Truth Requirements

1. **Primary Source Only**: Extract only from official statutory text files
2. **Exact Citations**: Citation must match actual statute section
3. **Verbatim Language**: Use actual statutory language in assertions
4. **Individual Verification**: Each right manually confirmed against statute
5. **Source Documentation**: Verification notes include line numbers

### What to Extract

**DO Extract**:
- ✅ "X is public information"
- ✅ "Y may not be withheld"
- ✅ "Agency must disclose Z"
- ✅ Fee caps ("shall not exceed $X")
- ✅ Free access provisions ("no fee for inspection")
- ✅ Redaction vs. withholding rules

**DON'T Extract**:
- ❌ Exemptions (those are in separate exemptions table)
- ❌ Procedural requirements (those are in process maps)
- ❌ General definitions
- ❌ Penalties and enforcement

## Next Steps

1. **Complete extraction script** for all 52 jurisdictions
2. **Create verification worktrees** for priority jurisdictions
3. **Verify Federal affirmative rights** (proof of concept)
4. **Verify Texas affirmative rights** (example in this workflow)
5. **Integrate with FOIA Generator** assertion template engine
6. **Deploy Phase 1** (Federal + 3 priority states)
7. **Systematic completion** of remaining 48 jurisdictions

---

**Workflow Status**: Ready for implementation
**Estimated Completion**: 8 weeks for all 52 jurisdictions (with parallel work)
**Integration Ready**: After Phase 1 (Federal + 3 states)
